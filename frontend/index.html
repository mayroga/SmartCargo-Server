<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>SMARTCARGO-AIPA | Evaluación de Carga</title>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<link rel="stylesheet" href="styles.css">
<style>
    body { font-family: Arial, sans-serif; background: #f5f5f5; margin: 0; padding: 0;}
    h1 { text-align: center; margin-top: 20px; }
    form { max-width: 900px; margin: 20px auto; background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1);}
    fieldset { margin-bottom: 15px; padding: 15px; border-radius: 5px; border: 1px solid #ccc;}
    legend { font-weight: bold; }
    label { display: block; margin: 8px 0 4px; }
    input, select, textarea { width: 100%; padding: 8px; margin-bottom: 8px; border-radius: 4px; border: 1px solid #ccc; box-sizing: border-box;}
    input[type="file"] { padding: 3px; }
    #fotosPreview img { border: 1px solid #ccc; border-radius: 4px;}
    #alerta { padding: 10px; margin-top: 10px; font-weight: bold; white-space: pre-line; }
    button { padding: 10px 20px; border: none; border-radius: 5px; background-color: #0b5ed7; color: white; cursor: pointer; margin-right: 10px;}
    button:hover { background-color: #084298; }
</style>
</head>
<body>

<h1>SMARTCARGO-AIPA | Evaluación de Carga</h1>

<form id="cargoForm">
    <!-- FASE I: Identificación y Tipo de Envío -->
    <fieldset>
        <legend>I. FASE UNIVERSAL: Identificación y Tipo de Envío</legend>
        <small>Antes de abrir el camión, validamos la legitimidad y el formato documental.</small>
        
        <label for="shipmentType">¿Su envío es para un solo destinatario o contiene paquetes para diferentes personas (Houses)?</label>
        <select id="shipmentType" name="shipmentType" required>
            <option value="">Seleccione</option>
            <option value="single">Un destinatario</option>
            <option value="consolidado">Consolidado</option>
        </select>

        <label for="highValue">¿El valor de su mercancía supera los $2,500 USD por código arancelario?</label>
        <select id="highValue" name="highValue" required>
            <option value="">Seleccione</option>
            <option value="yes">Sí</option>
            <option value="no">No</option>
        </select>

        <label for="itnNumber">Número de ITN (AES)</label>
        <input type="text" id="itnNumber" name="itnNumber" placeholder="Ingrese ITN si aplica" pattern="X.*">

        <label for="knownShipper">¿Es un "Known Shipper" y tiene el sello de seguridad del camión anotado?</label>
        <select id="knownShipper" name="knownShipper" required>
            <option value="">Seleccione</option>
            <option value="yes">Sí</option>
            <option value="no">No</option>
        </select>
    </fieldset>

    <!-- FASE II: Medidas, Peso y Capacidad -->
    <fieldset>
        <legend>II. FASE TÉCNICA: Medidas, Peso y Capacidad</legend>

        <label for="pieceHeight">Altura del bulto más alto incluyendo estiba (inches)</label>
        <input type="number" id="pieceHeight" name="pieceHeight" min="0" max="200" required>

        <label for="pieceWeight">Peso de la pieza más pesada (kg)</label>
        <input type="number" id="pieceWeight" name="pieceWeight" min="0" max="1000" required>

        <label for="volumetricWeight">Peso volumétrico (L × W × H / 166)</label>
        <input type="number" id="volumetricWeight" name="volumetricWeight" min="0" required>
    </fieldset>

    <!-- FASE III: Integridad y Embalaje -->
    <fieldset>
        <legend>III. FASE DE INTEGRIDAD: Embalaje y Madera (NIMF-15)</legend>

        <label for="nimf15">¿Sus estibas tienen el sello NIMF-15 visible?</label>
        <select id="nimf15" name="nimf15" required>
            <option value="">Seleccione</option>
            <option value="yes">Sí</option>
            <option value="no">No</option>
        </select>

        <label for="straps">¿La carga tiene flejes o solo plástico?</label>
        <select id="straps" name="straps" required>
            <option value="">Seleccione</option>
            <option value="flejes">Flejes</option>
            <option value="shrink">Plástico</option>
        </select>

        <label for="oldLabels">¿Borró etiquetas viejas de otros vuelos?</label>
        <select id="oldLabels" name="oldLabels" required>
            <option value="">Seleccione</option>
            <option value="yes">Sí</option>
            <option value="no">No</option>
        </select>
    </fieldset>

    <!-- FASE IV: Contenidos Peligrosos y Prohibidos -->
    <fieldset>
        <legend>IV. FASE CRÍTICA: Contenidos Peligrosos y Prohibidos (DGR/TSA)</legend>

        <label for="bateriasLitio">¿Su equipo contiene baterías de litio (aunque internas)?</label>
        <select id="bateriasLitio" name="bateriasLitio" required>
            <option value="">Seleccione</option>
            <option value="yes">Sí</option>
            <option value="no">No</option>
        </select>

        <label for="xrayImpenetrable">¿La carga es impenetrable para Rayos X?</label>
        <select id="xrayImpenetrable" name="xrayImpenetrable" required>
            <option value="">Seleccione</option>
            <option value="yes">Sí</option>
            <option value="no">No</option>
        </select>

        <label for="descripcionGuia">Descripción específica en la guía (ej. "Partes de motor")</label>
        <input type="text" id="descripcionGuia" name="descripcionGuia" required placeholder="Evite 'Said to Contain' o 'Carga General'">
    </fieldset>

    <!-- FASE V: Pouch y papelería -->
    <fieldset>
        <legend>V. RESUMEN DE DOCUMENTACIÓN PARA EL COUNTER</legend>

        <label for="pouchOrganized">¿Están los 3 originales dentro del sobre y las 6 copias fuera con clip?</label>
        <select id="pouchOrganized" name="pouchOrganized" required>
            <option value="">Seleccione</option>
            <option value="yes">Sí</option>
            <option value="no">No</option>
        </select>

        <label for="fotos">Subir fotos de la carga y papelería</label>
        <input type="file" id="fotos" name="fotos" multiple accept="image/*">
        <div id="fotosPreview"></div>
    </fieldset>

    <button type="submit">Evaluar Carga</button>
    <button type="button" id="generarPDF">Generar PDF</button>
    <button type="button" id="limpiarForm">Borrar Datos / Nueva Inspección</button>

    <div id="alerta"></div>
</form>

<script src="scripts.js"></script>
</body>
</html>
